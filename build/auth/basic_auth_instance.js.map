{"version":3,"sources":["../../src/auth/basic_auth_instance.js"],"names":["app","basicAuthInstance","use","authorizer","username","password","userMatches","basicAuth","safeCompare","passwordMatches","challenge"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;;AACA,IAAMC,iBAAiB,GAAG,8BAAU,eAAV,CAA1B;AAEAD,GAAG,CAACE,GAAJ,CACE,kCAAU;AACRC,EAAAA,UAAU,EAAE,oBAACC,QAAD,EAAWC,QAAX,EAAwB;AAClC,QAAMC,WAAW,GAAGC,6BAAUC,WAAV,CAClBJ,QADkB,EAElBH,iBAAiB,CAAC,CAAD,CAAjB,CAAqBG,QAFH,CAApB;;AAIA,QAAMK,eAAe,GAAGF,6BAAUC,WAAV,CACtBH,QADsB,EAEtBJ,iBAAiB,CAAC,CAAD,CAAjB,CAAqBI,QAFC,CAAxB;;AAIA,WAAOC,WAAW,GAAGG,eAArB;AACD,GAXO;AAYRC,EAAAA,SAAS,EAAE;AAZH,CAAV,CADF","sourcesContent":["import express from 'express'\r\nimport basicAuth from 'express-basic-auth'\r\nimport { getConfig } from '../config/global_config'\r\n\r\nconst app = express()\r\nconst basicAuthInstance = getConfig('/basicAuthApi')\r\n\r\napp.use(\r\n  basicAuth({\r\n    authorizer: (username, password) => {\r\n      const userMatches = basicAuth.safeCompare(\r\n        username,\r\n        basicAuthInstance[0].username\r\n      )\r\n      const passwordMatches = basicAuth.safeCompare(\r\n        password,\r\n        basicAuthInstance[0].password\r\n      )\r\n      return userMatches & passwordMatches\r\n    },\r\n    challenge: true,\r\n  })\r\n)\r\n\r\nexport { app }\r\n"],"file":"basic_auth_instance.js"}